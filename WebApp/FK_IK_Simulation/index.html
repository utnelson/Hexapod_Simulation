<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <title>Roboterarm mit DH-Kinematik</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body
    class="flex flex-col items-center justify-center min-h-screen bg-gray-200 p-4"
  >
    <div class="text-center mb-8 space-y-4">
      <h1 class="text-3xl font-bold">Hexapod</h1>
      <div class="flex gap-8">
        <div class="flex flex-col">
          <h1 class="font-bold p-4">FK: Denavit-Hartenberg-Transformation</h1>
          <div class="flex gap-4">
            <!-- Segment J0 → J1 -->
            <div class="border border-gray-400 rounded p-2">
              <label class="flex flex-col items-center">
                L1:
                <input
                  type="number"
                  id="lengthInputL1"
                  value="26"
                  step="1"
                  class="border rounded w-32 px-2 py-1 mt-1"
                />
              </label>
              <label class="flex flex-col items-center">
                φ1:
                <input
                  type="range"
                  id="angleSliderL1"
                  min="-180"
                  max="180"
                  value="90"
                  class="mt-1"
                />
                <span id="angleValueL1">90°</span>
              </label>
            </div>

            <!-- Segment J1 → J2 -->
            <div class="border border-gray-400 rounded p-2">
              <label class="flex flex-col items-center">
                L2:
                <input
                  type="number"
                  id="lengthInput"
                  value="40"
                  step="1"
                  class="border rounded w-32 px-2 py-1 mt-1"
                />
              </label>
              <label class="flex flex-col items-center">
                φ2:
                <input
                  type="range"
                  id="angleSlider"
                  min="-180"
                  max="180"
                  value="0"
                  class="mt-1"
                />
                <span id="angleValue">0°</span>
              </label>
            </div>

            <!-- Segment J2 → J3 -->
            <div class="border border-gray-400 rounded p-2">
              <label class="flex flex-col items-center">
                L3:
                <input
                  type="number"
                  id="lengthInput2"
                  value="135"
                  step="1"
                  class="border rounded w-32 px-2 py-1 mt-1"
                />
              </label>
              <label class="flex flex-col items-center">
                φ3:
                <input
                  type="range"
                  id="angleSlider2"
                  min="-180"
                  max="180"
                  value="0"
                  class="mt-1"
                />
                <span id="angleValue2">0°</span>
              </label>
            </div>
          </div>
        </div>

        <!-- IK-Solver -->
        <div class="flex flex-col">
          <h1 class="font-bold p-4">IK Solver</h1>
          <div class="flex">
            <div class="flex border border-gray-400 rounded p-2">
            <!-- Endpoint Inputs -->
              <div class="flex flex-col p-2">
                <h2 class="font-semibold">P3</h2>
                <div class="flex">
                  <label class="flex items-center pr-4">X:</label>
                  <input
                    type="number"
                    id="ikX"
                    value="-0"
                    class="border rounded w-32 px-2 py-1 mt-1"
                  />
                </div>
                <div class="flex">
                  <label class="flex items-center pr-4">Y:</label>
                  <input
                    type="number"
                    id="ikY"
                    value="100"
                    class="border rounded w-32 px-2 py-1 mt-1"
                  />
                </div>
                <div class="flex">
                  <label class="flex items-center pr-4">Z:</label>
                  <input
                    type="number"
                    id="ikZ"
                    value="-100"
                    class="border rounded w-32 px-2 py-1 mt-1"
                  />
                </div>
              </div>
              <!-- DebugWerte -->
              <div class="flex flex-col gap-2 rounded p-2">
                <h2 class="font-semibold">Berechnete Winkel</h2>


                <div>φ1: <span id="phi1IK">-</span>°</div>
                <div>φ2: <span id="phi2IK">-</span>°</div>
                <div>φ3: <span id="phi3IK">-</span>°</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkboxen -->
    <div class="flex gap-4 mt-2">
      <label class="flex items-center gap-2">
        <input type="checkbox" id="toggleWorkspace" />
        <span>Bewegungsraum plotten</span>
      </label>
      <label class="flex items-center gap-2">
        <input type="checkbox" id="toggleAxes" checked />
        <span>Koordinatensysteme anzeigen</span>
      </label>
    </div>

    <!-- Plot-Bereich -->
    <div
      class="flex flex-col md:flex-row justify-center items-center gap-8 mt-4"
    >
      <div
        id="plot3d"
        class="w-96 h-96 md:w-[500px] md:h-[500px] bg-white shadow rounded"
      ></div>
      <div
        id="plotYZ"
        class="w-96 h-96 md:w-[500px] md:h-[500px] bg-white shadow rounded"
      ></div>
      <div
        id="plotXY"
        class="w-96 h-96 md:w-[500px] md:h-[500px] bg-white shadow rounded"
      ></div>
    </div>

    <script src="js/constants.js"></script>
    <script src="js/mathUtils.js"></script>
    <script src="js/dhKinematics.js"></script>
    <script src="js/plot.js"></script>
    <script src="js/ikSolver.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
